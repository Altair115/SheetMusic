@model IEnumerable<SheetMusic.Models.Piece>
@using System.EnterpriseServices
@using System.ServiceModel.Syndication
@using System.Web.UI.WebControls
@using WebMatrix.Data;
@using Microsoft.AspNet.Identity;
@using SheetMusic.iAz_Magic
@using SheetMusic.Models
@{
    ViewBag.Title = "Details";

    var _id = Request.QueryString["id"];

    string connectionString = @"Data Source=(LocalDB)\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\Sheetz.mdf;Integrated Security=True";
    string provider = "System.Data.SqlClient";
    Database db = Database.OpenConnectionString(connectionString, provider);

    var detailed = db.Query("SELECT * FROM Pieces WHERE Id = @0", _id);
}

<head>
    <link rel=" stylesheet" type="text/css" href="~/Custom_Style/Custom Layout.css" />

    <style>
        dl {
            background-color: #357cb4;
            color: white;
            padding: 20px;
            border-radius: 25px;
        }
    </style>
</head>

@foreach (var record in detailed)
{
    <h2>Details - @record.PieceName</h2>
}
<div class="menu">
    <table class="table table-hover table-striped">
        <thead>
            <tr class="row">
                <th>Name:</th>
                <th>Artist:</th>
                <th>Genre:</th>
                <th>Year:</th>
                <th>Difficulty:</th>
                <th>Plaats:</th>
            </tr>
        </thead>
        @foreach (var record in detailed)
        {
        <tr class="row">
            <td>
                @record.PieceName
                <p>@record.PieceSubName</p>
            </td>
            <td>@record.Artist</td>
            <td>@record.Genre</td>
            <td>@record.Year</td>
            <td>@record.Difficulty</td>
            <td>@record.Description</td>
        </tr>
        }
    </table>
</div>

@* <p style="text-align:center"> *@
@*     @Html.ActionLink("Back to List", "Index", null, new { @class = "btn btn-info" }) | *@
@*     @Html.ActionLink("Edit", "Edit", new { id = Model.Id }, new { @class = "btn btn-warning" }) *@
@* </p> *@

@if (!Request.IsAuthenticated)
{
    Response.Redirect(Url.Action("Login", "Account"));
}
